const investDict = {
    A: [
        {
            assetClass: 'Acciones Globales',
            investment: 'Vanguard Global Stk Idx Eur -Ins',
            percentage: 61
        },
        {
            assetClass: 'Bonos Globales a Largo Plazo',
            investment: 'Vanguard Global Bnd Idx -Ins',
            percentage: 39
        }
    ],
    B: [
        {
            assetClass: 'Acciones Globales',
            investment: 'Vanguard Global Stk Idx Eur -Ins',
            percentage: 52
        },
        {
            assetClass: 'Bonos Globales a Largo Plazo',
            investment: 'Vanguard Global Bnd Idx -Ins',
            percentage: 48
        }
    ],
    C: [
        {
            assetClass: 'Bonos Globales a Largo Plazo',
            investment: 'Vanguard Global Bnd Idx -Ins',
            percentage: 54
        },
        {
            assetClass: 'Acciones Globales',
            investment: 'Vanguard Global Stk Idx Eur -Ins',
            percentage: 46
        }
    ],
    D: [
        {
            assetClass: 'Bonos Globales a Largo Plazo',
            investment: 'Vanguard Global Bnd Idx -Ins',
            percentage: 60
        },
        {
            assetClass: 'Acciones Globales',
            investment: 'Vanguard Global Stk Idx Eur -Ins',
            percentage: 40
        }
    ],
    E: [
        {
            assetClass: 'Bonos Globales a Largo Plazo',
            investment: 'Vanguard Global Bnd Idx -Ins',
            percentage: 71
        },
        {
            assetClass: 'Acciones Globales',
            investment: 'Vanguard Global Stk Idx Eur -Ins',
            percentage: 29
        }
    ],
    F: [
        {
            assetClass: 'Bonos Globales a Largo Plazo',
            investment: 'Vanguard Global Bnd Idx -Ins',
            percentage: 81
        },
        {
            assetClass: 'Acciones Globales',
            investment: 'Vanguard Global Stk Idx Eur -Ins',
            percentage: 19
        }
    ],
    G: [
        {
            assetClass: 'Bonos Globales a Largo Plazo',
            investment: 'Vanguard Global Bnd Idx -Ins',
            percentage: 86
        },
        {
            assetClass: 'Acciones Globales',
            investment: 'Vanguard Global Stk Idx Eur -Ins',
            percentage: 14
        }
    ],
    H: [
        {
            assetClass: 'Acciones Estados Unidos',
            investment: 'Vanguard US 500 Stk Idx -Ins',
            percentage: 33
        },
        {
            assetClass: 'Bonos Europeos ligados a la Inflación',
            investment: 'Vanguard Euroz Inf Lk Idx -Ins',
            percentage: 23
        },
        {
            assetClass: 'Acciones Europa',
            investment: 'Pictet Europe Idx -I',
            percentage: 15
        },
        {
            assetClass: 'Acciones Economías Emergentes',
            investment: 'Vanguard Emrg Mk Stk Idx -Ins',
            percentage: 13
        },
        {
            assetClass: 'Bonos Gobiernos Europeos',
            investment: 'Vanguard Eur Gv Bnd Idx -Ins',
            percentage: 11
        },
        {
            assetClass: 'Bonos Empresas Europeas',
            investment: 'Vanguard Euro Inv Gr Idx -Ins',
            percentage: 5
        }
    ],
    I: [
        {
            assetClass: 'Acciones Estados Unidos',
            investment: 'Vanguard US 500 Stk Idx -Ins',
            percentage: 30
        },
        {
            assetClass: 'Bonos Europeos ligados a la Inflación',
            investment: 'Vanguard Euroz Inf Lk Idx -Ins',
            percentage: 23
        },
        {
            assetClass: 'Bonos Gobiernos Europeos',
            investment: 'Vanguard Eur Gv Bnd Idx -Ins',
            percentage: 16
        },
        {
            assetClass: 'Acciones Europa',
            investment: 'Pictet Europe Idx -I',
            percentage: 13
        },
        {
            assetClass: 'Bonos Empresas Europeas',
            investment: 'Vanguard Euro Inv Gr Idx -Ins',
            percentage: 9
        },
        {
            assetClass: 'Acciones Economías Emergentes',
            investment: 'Vanguard Emrg Mk Stk Idx -Ins',
            percentage: 9
        }
    ],
    J: [
        {
            assetClass: 'Acciones Estados Unidos',
            investment: 'Vanguard US 500 Stk Idx -Ins',
            percentage: 26
        },
        {
            assetClass: 'Bonos Europeos ligados a la Inflación',
            investment: 'Vanguard Euroz Inf Lk Idx -Ins',
            percentage: 22
        },
        {
            assetClass: 'Bonos Gobiernos Europeos',
            investment: 'Vanguard Eur Gv Bnd Idx -Ins',
            percentage: 21
        },
        {
            assetClass: 'Acciones Europa',
            investment: 'Pictet Europe Idx -I',
            percentage: 12
        },
        {
            assetClass: 'Bonos Empresas Europeas',
            investment: 'Vanguard Euro Inv Gr Idx -Ins',
            percentage: 11
        },
        {
            assetClass: 'Acciones Economías Emergentes',
            investment: 'Vanguard Emrg Mk Stk Idx -Ins',
            percentage: 8
        },
    ],
    K: [
        {
            assetClass: 'Bonos Gobiernos Europeos',
            investment: 'Vanguard Eur Gv Bnd Idx -Ins',
            percentage: 24
        },
        {
            assetClass: 'Acciones Estados Unidos',
            investment: 'Vanguard US 500 Stk Idx -Ins',
            percentage: 23
        },
        {
            assetClass: 'Bonos Europeos ligados a la Inflación',
            investment: 'Vanguard Euroz Inf Lk Idx -Ins',
            percentage: 21
        },
        {
            assetClass: 'Bonos Empresas Europeas',
            investment: 'Vanguard Euro Inv Gr Idx -Ins',
            percentage: 15
        },
        {
            assetClass: 'Acciones Europa',
            investment: 'Pictet Europe Idx -I',
            percentage: 11
        },
        {
            assetClass: 'Acciones Economías Emergentes',
            investment: 'Vanguard Emrg Mk Stk Idx -Ins',
            percentage: 6
        }
    ],
    L: [
        {
            assetClass: 'Bonos Gobiernos Europeos',
            investment: 'Vanguard Eur Gv Bnd Idx -Ins',
            percentage: 28
        },
        {
            assetClass: 'Bonos Empresas Europeas',
            investment: 'Vanguard Euro Inv Gr Idx -Ins',
            percentage: 23
        },
        {
            assetClass: 'Bonos Europeos ligados a la Inflación',
            investment: 'Vanguard Euroz Inf Lk Idx -Ins',
            percentage: 20
        },
        {
            assetClass: 'Acciones Estados Unidos',
            investment: 'Vanguard US 500 Stk Idx -Ins',
            percentage: 17
        }, {
            assetClass: 'Acciones Europa',
            investment: 'Pictet Europe Idx -I',
            percentage: 8
        },
        {
            assetClass: 'Acciones Economías Emergentes',
            investment: 'Vanguard Emrg Mk Stk Idx -Ins',
            percentage: 4
        }
    ],
    M: [
        {
            assetClass: 'Bonos Empresas Europeas',
            investment: 'Vanguard Euro Inv Gr Idx -Ins',
            percentage: 32
        },
        {
            assetClass: 'Bonos Gobiernos Europeos',
            investment: 'Vanguard Eur Gv Bnd Idx -Ins',
            percentage: 31
        },
        {
            assetClass: 'Bonos Europeos ligados a la Inflación',
            investment: 'Vanguard Euroz Inf Lk Idx -Ins',
            percentage: 18
        },
        {
            assetClass: 'Acciones Estados Unidos',
            investment: 'Vanguard US 500 Stk Idx -Ins',
            percentage: 11
        },
        {
            assetClass: 'Acciones Europa',
            investment: 'Pictet Europe Idx -I',
            percentage: 5
        },
        {
            assetClass: 'Acciones Economías Emergentes',
            investment: 'Vanguard Emrg Mk Stk Idx -Ins',
            percentage: 3
        }
    ],
    N: [
        {
            assetClass: 'Bonos Gobiernos Europeos',
            investment: 'Vanguard Eur Gv Bnd Idx -Ins',
            percentage: 35
        },
        {
            assetClass: 'Bonos Empresas Europeas',
            investment: 'Vanguard Euro Inv Gr Idx -Ins',
            percentage: 35
        },
        {
            assetClass: 'Bonos Europeos ligados a la Inflación',
            investment: 'Vanguard Euroz Inf Lk Idx -Ins',
            percentage: 16
        },
        {
            assetClass: 'Acciones Estados Unidos',
            investment: 'Vanguard US 500 Stk Idx -Ins',
            percentage: 10
        },
        {
            assetClass: 'Acciones Europa',
            investment: 'Pictet Europe Idx -I',
            percentage: 4
        },
    ],
    O: [
        {
            assetClass: 'Acciones Estados Unidos',
            investment: 'Vanguard US 500 Stk Idx -Ins',
            percentage: 31
        },
        {
            assetClass: 'Bonos Europeos ligados a la Inflación',
            investment: 'Vanguard Euroz Inf Lk Idx -Ins',
            percentage: 22
        },
        {
            assetClass: 'Acciones Europa',
            investment: 'Pictet Europe Idx -I',
            percentage: 15
        },
        {
            assetClass: 'Bonos Gobiernos Europeos',
            investment: 'Vanguard Eur Gv Bnd Idx -Ins',
            percentage: 11
        },
        {
            assetClass: 'Acciones Economías Emergentes',
            investment: 'Vanguard Emrg Mk Stk Idx -Ins',
            percentage: 8
        },
        {
            assetClass: 'Acciones Japón',
            investment: 'Vanguard Japan Stk Idx Eur -Ins',
            percentage: 6
        },
        {
            assetClass: 'Bonos Empresas Europeas',
            investment: 'Vanguard Euro Inv Gr Idx -Ins',
            percentage: 4
        },
        {
            assetClass: 'Bonos Países Emergentes Cubiertos a Euro',
            investment: 'iShares EM Gov Bnd Idx -I2 Eur Hdg',
            percentage: 3
        }
    ],
    P: [
        {
            assetClass: 'Acciones Estados Unidos',
            investment: 'Vanguard US 500 Stk Idx -Ins',
            percentage: 26
        },
        {
            assetClass: 'Bonos Europeos ligados a la Inflación',
            investment: 'Vanguard Euroz Inf Lk Idx -Ins',
            percentage: 22
        },
        {
            assetClass: 'Bonos Gobiernos Europeos',
            investment: 'Vanguard Eur Gv Bnd Idx -Ins',
            percentage: 16
        },
        {
            assetClass: 'Acciones Europa',
            investment: 'Pictet Europe Idx -I',
            percentage: 13
        },
        {
            assetClass: 'Bonos Empresas Europeas',
            investment: 'Vanguard Euro Inv Gr Idx -Ins',
            percentage: 8
        },
        {
            assetClass: 'Acciones Economías Emergentes',
            investment: 'Vanguard Emrg Mk Stk Idx -Ins',
            percentage: 7
        },
        {
            assetClass: 'Acciones Japón',
            investment: 'Vanguard Japan Stk Idx Eur -Ins',
            percentage: 5
        },
        {
            assetClass: 'Bonos Países Emergentes Cubiertos a Euro',
            investment: 'iShares EM Gov Bnd Idx -I2 Eur Hdg',
            percentage: 3
        }
    ],
    Q: [
        {
            assetClass: 'Acciones Estados Unidos',
            investment: 'Vanguard US 500 Stk Idx -Ins',
            percentage: 24
        },
        {
            assetClass: 'Bonos Europeos ligados a la Inflación',
            investment: 'Vanguard Euroz Inf Lk Idx -Ins',
            percentage: 21
        },
        {
            assetClass: 'Bonos Gobiernos Europeos',
            investment: 'Vanguard Eur Gv Bnd Idx -Ins',
            percentage: 21
        },
        {
            assetClass: 'Acciones Europa',
            investment: 'Pictet Europe Idx -I',
            percentage: 11
        },
        {
            assetClass: 'Bonos Empresas Europeas',
            investment: 'Vanguard Euro Inv Gr Idx -Ins',
            percentage: 10
        },
        {
            assetClass: 'Acciones Economías Emergentes',
            investment: 'Vanguard Emrg Mk Stk Idx -Ins',
            percentage: 6
        },
        {
            assetClass: 'Acciones Japón',
            investment: 'Vanguard Japan Stk Idx Eur -Ins',
            percentage: 4
        },
        {
            assetClass: 'Bonos Países Emergentes Cubiertos a Euro',
            investment: 'iShares EM Gov Bnd Idx -I2 Eur Hdg',
            percentage: 3
        },
    ],
    R: [
        {
            assetClass: 'Bonos Gobiernos Europeos',
            investment: 'Vanguard Eur Gv Bnd Idx -Ins',
            percentage: 24
        },
        {
            assetClass: 'Acciones Estados Unidos',
            investment: 'Vanguard US 500 Stk Idx -Ins',
            percentage: 21
        },
        {
            assetClass: 'Bonos Europeos ligados a la Inflación',
            investment: 'Vanguard Euroz Inf Lk Idx -Ins',
            percentage: 20
        },
        {
            assetClass: 'Bonos Empresas Europeas',
            investment: 'Vanguard Euro Inv Gr Idx -Ins',
            percentage: 14
        },
        {
            assetClass: 'Acciones Europa',
            investment: 'Pictet Europe Idx -I',
            percentage: 9
        },
        {
            assetClass: 'Acciones Economías Emergentes',
            investment: 'Vanguard Emrg Mk Stk Idx -Ins',
            percentage: 5
        },
        {
            assetClass: 'Acciones Japón',
            investment: 'Vanguard Japan Stk Idx Eur -Ins',
            percentage: 4
        },
        {
            assetClass: 'Bonos Países Emergentes Cubiertos a Euro',
            investment: 'iShares EM Gov Bnd Idx -I2 Eur Hdg',
            percentage: 3
        },
    ],
    S: [
        {
            assetClass: 'Bonos Gobiernos Europeos',
            investment: 'Vanguard Eur Gv Bnd Idx -Ins',
            percentage: 28
        },
        {
            assetClass: 'Bonos Empresas Europeas',
            investment: 'Vanguard Euro Inv Gr Idx -Ins',
            percentage: 22
        },
        {
            assetClass: 'Bonos Europeos ligados a la Inflación',
            investment: 'Vanguard Euroz Inf Lk Idx -Ins',
            percentage: 19
        },
        {
            assetClass: '',
            investment: '',
            percentage: 0
        },
        {
            assetClass: '',
            investment: '',
            percentage: 0
        },
        {
            assetClass: '',
            investment: '',
            percentage: 0
        },
    ],
    T: [
        {
            assetClass: 'Bonos Empresas Europeas',
            investment: 'Vanguard Euro Inv Gr Idx -Ins',
            percentage: 31
        },
        {
            assetClass: 'Bonos Gobiernos Europeos',
            investment: 'Vanguard Eur Gv Bnd Idx -Ins',
            percentage: 30
        },
        {
            assetClass: 'Bonos Europeos ligados a la Inflación',
            investment: 'Vanguard Euroz Inf Lk Idx -Ins',
            percentage: 18
        },
        {
            assetClass: 'Acciones Estados Unidos',
            investment: 'Vanguard US 500 Stk Idx -Ins',
            percentage: 14
        },
        {
            assetClass: 'Acciones Europa',
            investment: 'Pictet Europe Idx -I',
            percentage: 4
        },
        {
            assetClass: 'Bonos Países Emergentes Cubiertos a Euro',
            investment: 'iShares EM Gov Bnd Idx -I2 Eur Hdg',
            percentage: 3
        }
    ],
    U: [
        {
            assetClass: 'Bonos Empresas Europeas',
            investment: 'Vanguard Euro Inv Gr Idx -Ins',
            percentage: 34
        },
        {
            assetClass: 'Bonos Gobiernos Europeos',
            investment: 'Vanguard Eur Gv Bnd Idx -Ins',
            percentage: 34
        },
        {
            assetClass: 'Bonos Europeos ligados a la Inflación',
            investment: 'Vanguard Euroz Inf Lk Idx -Ins',
            percentage: 16
        },
        {
            assetClass: 'Acciones Estados Unidos',
            investment: 'Vanguard US 500 Stk Idx -Ins',
            percentage: 10
        },
        {
            assetClass: 'Bonos Países Emergentes Cubiertos a Euro',
            investment: 'iShares EM Gov Bnd Idx -I2 Eur Hdg',
            percentage: 3
        },
        {
            assetClass: 'Acciones Europa',
            investment: 'Pictet Europe Idx -I',
            percentage: 3
        }
    ]
};

function addInvestDictMesssages(agent, option) {
    for(const asset of investDict[option]) {
        const { assetClass, investment, percentage } = asset;
        agent.addTextMessage(`${assetClass}, ${investment}, ${percentage}%`);
    }
}

function investingAddQ1(agent) {
    agent.addQuickReplies('¿Qué rentabilidad buscas para tu cartera de inversión?', [
        'No me importa.', '1-2% anual.', '3-4% anual.', '5-6% anual.', 'La máxima!'
    ]);
}
function investingAddQ1Riskimeter(agent) {
    let riskimeter = 0;
    switch(agent.inputMessage) {
    case 'No me importa.': riskimeter = -2; break;
    case '1-2% anual.': riskimeter = -1; break;
    case '3-4% anual.': riskimeter = 0; break;
    case '5-6% anual.': riskimeter = 1; break;
    case 'La máxima!': riskimeter = 2; break;
    }
    agent.addRiskimeter(riskimeter);
}
function investingAddQ2(agent) {
    agent.addQuickReplies('El mercado de valores global es a menudo volátil. Imagina que tu cartera de inversiones pierde un 10% de su valor en un mes, ¿qué harías?', [
        'Vender todo', 'Vender algo', 'Mantener', 'Comprar más'
    ]);
}
function investingAddQ2Riskimeter(agent) {
    let riskimeter = 0;
    switch(agent.inputMessage) {
    case 'Vender todo': riskimeter = -2; break;
    case 'Vender algo': riskimeter = -1; break;
    case 'Mantener': riskimeter = 1; break;
    case 'La máxima!': riskimeter = 2; break;
    }
    agent.addRiskimeter(riskimeter);
}
function investingAddQ3(agent) {
    agent.addQuickReplies('Si piensas en la palabra "riesgo", ¿cuál de las siguientes palabras te viene a la mente?', [
        'Pérdida', 'Incertidumbre', 'Oportunidad', 'Emoción'
    ]);
}

export function investingResult(agent) {
    let amount;
    let riskimeter;
    for (const context of agent.contexts) {
        if (context.name === 'investing-followup') {
            amount = context.parameters.amount;
            riskimeter = context.parameters.riskimeter;
        }
    }
    console.log("riskimeter:", riskimeter);

    agent.addTextMessage('Te reccomiendo:');
    switch(riskimeter) {
    case 1:
        if(amount < 10000) {
            addInvestDictMesssages(agent, 'G');
        } else if ( amount < 100000) {
            addInvestDictMesssages(agent, 'N');
        } else {
            addInvestDictMesssages(agent, 'U');
        }
        break;
    case 2:
        if(amount < 10000) {
            addInvestDictMesssages(agent, 'F');
        } else if ( amount < 100000) {
            addInvestDictMesssages(agent, 'M');
        } else {
            addInvestDictMesssages(agent, 'T');
        }
        break;
    case 3:
        if(amount < 10000) {
            addInvestDictMesssages(agent, 'E');
        } else if ( amount < 100000) {
            addInvestDictMesssages(agent, 'L');
        } else {
            addInvestDictMesssages(agent, 'S');
        }
        break;
    case 4:
        if(amount < 10000) {
            addInvestDictMesssages(agent, 'D');
        } else if ( amount < 100000) {
            addInvestDictMesssages(agent, 'K');
        } else {
            addInvestDictMesssages(agent, 'R');
        }
        break;
    case 5:
        if(amount < 10000) {
            addInvestDictMesssages(agent, 'C');
        } else if ( amount < 100000) {
            addInvestDictMesssages(agent, 'J');
        } else {
            addInvestDictMesssages(agent, 'Q');
        }
        break;
    case 6:
        if(amount < 10000) {
            addInvestDictMesssages(agent, 'B');
        } else if ( amount < 100000) {
            addInvestDictMesssages(agent, 'I');
        } else {
            addInvestDictMesssages(agent, 'P');
        }
        break;
    case 7:
        if(amount < 10000) {
            addInvestDictMesssages(agent, 'A');
        } else if ( amount < 100000) {
            addInvestDictMesssages(agent, 'H');
        } else {
            addInvestDictMesssages(agent, 'O');
        }
        break;
    default:
        switch(amount) {
        default:
            agent.addTextMessage('Bonos Globales a Largo Plazo, Vanguard Global Bnd Idx -Ins,	60,0%');
            agent.addTextMessage('Bonos Globales a Largo Plazo,	Vanguard Global Bnd Idx -Ins,	60,0%');
        }
    }
}

function investingLogic(agent) {
    switch(agent.intentName) {
    case "investing - amount":
        investingAddQ1(agent);
        break;
    case "investing - question1":
        investingAddQ1Riskimeter(agent);
        investingAddQ2(agent);
        break;
    case "investing - question2":
        investingAddQ2Riskimeter(agent);
        investingAddQ3(agent);
        break;
    case "investing - result":
        investingResult(agent);
        break;
    }
}

export default investingLogic;
